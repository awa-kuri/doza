const CACHE_NAME = 'doza-cache-v1'; const urlsToCache = [ './doza.html', './doza.webmanifest', './icon-192.png', './icon-512.png', // 必要に応じて他のリソース（CSS/JSファイルなど）を追加 ]; self.addEventListener('install', (event) => { event.waitUntil( caches.open(CACHE_NAME) .then((cache) => { console.log('Opened cache'); return cache.addAll(urlsToCache); }) ); }); self.addEventListener('fetch', (event) => { event.respondWith( caches.match(event.request) .then((response) => { // キャッシュにあればそれを使う if (response) { return response; } // なければネットワークから取得 return fetch(event.request); }) ); });